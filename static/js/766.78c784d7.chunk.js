"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[766],{77:function(t,e,r){r.d(e,{Z:function(){return u}});var n=r(87),a=r(534),s=r(184);var o=function(t){var e=t.movie,r=t.to,o=t.from;return(0,s.jsx)("li",{className:"movie-list-item",children:(0,s.jsxs)(n.rU,{to:r,state:{from:o},children:[(0,s.jsx)("p",{className:"movie-title",children:e.title}),(0,s.jsx)("img",{src:e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):a,alt:""}),(0,s.jsxs)("p",{className:"release-date",children:[" Release: ",e.release_date]})]})},e.id)};var u=function(t){var e=t.movies,r=t.to,n=t.from;return(0,s.jsx)("ul",{className:"movie-list",children:e.map((function(t){return(0,s.jsx)(o,{to:"".concat(r,"/").concat(t.id),from:n,movie:t},t.id)}))})}},766:function(t,e,r){r.r(e),r.d(e,{default:function(){return p}});var n=r(861),a=r(439),s=r(757),o=r.n(s),u=r(77),i=r(791),c=r(87),m=r(184);var l=function(t){var e=t.onSubmit,r=(0,i.useState)(""),n=(0,a.Z)(r,2),s=n[0],o=n[1],u=(0,c.lr)(),l=(0,a.Z)(u,1)[0];return(0,i.useEffect)((function(){var t=l.get("query");t&&o(t)}),[l]),(0,m.jsxs)("form",{className:"search-form",onSubmit:function(t){t.preventDefault(),s&&e(s)},children:[(0,m.jsx)("input",{type:"text",value:s,onChange:function(t){return o(t.target.value)}}),(0,m.jsx)("button",{children:"\ud83d\udd0d"})]})};var f=function(t){var e=t.moviesData,r=t.onSubmit,n=t.query;return(0,m.jsxs)("main",{children:[(0,m.jsx)(l,{onSubmit:r}),e&&(0,m.jsx)(u.Z,{movies:e.results,to:"/movies",from:"/movies?query=".concat(n)})]})},v=r(980);var p=function(){var t=(0,c.lr)(),e=(0,a.Z)(t,2),r=e[0],s=e[1],u=(0,i.useState)(null),l=(0,a.Z)(u,2),p=l[0],h=l[1],d=r.get("query");return(0,i.useEffect)((function(){function t(){return(t=(0,n.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=h,t.next=3,(0,v.Wf)(d);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}d&&function(){t.apply(this,arguments)}()}),[d]),(0,m.jsx)(f,{query:d,moviesData:p,onSubmit:function(t){return s({query:t})}})}}}]);
//# sourceMappingURL=766.78c784d7.chunk.js.map